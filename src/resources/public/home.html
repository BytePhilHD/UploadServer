<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
 <p>Login Site</p>
</body>
<script>
    window.onload = setupWebSocket;
    let ws;

    function setupWebSocket() {
        let i = 80;
        if (location.port != 0) {
            i = location.port;
        }
        ws = new WebSocket("ws://" + location.host.replace("home", "") + "/login");

        ws.onopen = openEvent => {
            ws.send("LOGIN: " + location.search);
        }
        ws.onclose = closeEvent => {
            setupWebSocket();
        }
        ws.onerror = errorEvent => {
        }
        ws.onmessage = messageEvent => {
            var wsinput = messageEvent.data;
            if (wsinput.includes("CLOSE")) {
                const location1 = location.toString();
                const loc = location1.replace("home", "logout");
                window.location.href = loc;
            }
        }
    }
</script>
</html>